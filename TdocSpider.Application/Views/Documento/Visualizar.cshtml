@model TdocSpider.Application.Models.Entities.Documento

@{
    ViewData["Title"] = "Visualizar Documento";
}

<div class="container">

<h2>Visualizar Documento</h2>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">@Model.Titulo</h5>
        <p><strong>Descrição:</strong> @Model.Descricao</p>
        <p><strong>Nome do Arquivo:</strong> @Model.NomeArquivo</p>
        <p><strong>Data de Criação:</strong> @Model.DataHoraCriacao.ToString("dd/MM/yyyy HH:mm")</p>

        @if (Model.NomeArquivo.EndsWith(".pdf", StringComparison.OrdinalIgnoreCase))
        {
            <p><strong>Visualização:</strong></p>
            <iframe src="@Url.Action("BaixaArquivo", "Documento", new { id = Model.Id })"
                    width="100%" height="600px" frameborder="0">
            </iframe>
        }
        else
        {
            <p>
                <strong>Baixar arquivo:</strong>
                <a href="@Url.Action("BaixaArquivo", "Documento", new { id = Model.Id })"
                   class="btn btn-sm btn-success ms-2">
                    📥 Clique aqui para baixar o arquivo
                </a>
            </p>
        }

        <a asp-action="ListDocumentos" class="btn btn-secondary mt-3">Voltar</a>
        <a asp-action="DeletarDocumentos" asp-route-id="@Model.Id" class="btn btn-danger mt-3">Deletar arquivo</a>
    </div>
</div>

</div>